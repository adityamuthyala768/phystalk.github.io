<!-- Initialize Desmos Calculator -->
    function initializeDesmos() {
      const elt = document.getElementById('calculator');
      if (elt && typeof Desmos !== 'undefined') {
        try {
          calculator = Desmos.GraphingCalculator(elt, {
            keypad: true,
            expressions: true,
            settingsMenu: true,
            zoomButtons: true,
            expressionsTopbar: true,
            pointsOfInterest: true,
            trace: true,
            border: false,
            lockViewport: false,
            expressionsCollapsed: false
          });
          
          // Add a welcome equation
          calculator.setExpression({
            id: 'welcome',
            latex: 'y = \\sin(x)',
            color: '#3b82f6'
          });
          
          console.log('Desmos calculator<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phystalk - Physics Forum</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
      color: #e2e8f0;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 40% 90%, rgba(236, 72, 153, 0.06) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 70px;
      background: rgba(30, 41, 59, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      z-index: 1000;
    }

    .logo {
      font-size: 1.8em;
      color: #3b82f6;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      color: #3b82f6;
      font-size: 1.5em;
      cursor: pointer;
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 70px;
      left: 0;
      width: 250px;
      height: calc(100vh - 70px);
      background: rgba(30, 41, 59, 0.95);
      backdrop-filter: blur(20px);
      border-right: 1px solid rgba(148, 163, 184, 0.2);
      padding: 20px 0;
      z-index: 999;
      transition: transform 0.3s ease;
    }

    .sidebar.hidden {
      transform: translateX(-100%);
    }

    .nav-item {
      display: block;
      padding: 15px 25px;
      color: #cbd5e1;
      text-decoration: none;
      border-bottom: 1px solid rgba(148, 163, 184, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      font-weight: 500;
    }

    .nav-item:hover, .nav-item.active {
      background: rgba(59, 130, 246, 0.1);
      color: #3b82f6;
      border-left: 3px solid #3b82f6;
    }

    .nav-item i {
      margin-right: 10px;
      width: 20px;
    }

    /* Main Content */
    .main-content {
      margin-left: 250px;
      margin-top: 70px;
      padding: 30px;
      min-height: calc(100vh - 70px);
      transition: margin-left 0.3s ease;
    }

    .main-content.expanded {
      margin-left: 0;
    }

    .page {
      display: none;
      animation: fadeIn 0.5s ease-in;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .page-header {
      margin-bottom: 30px;
    }

    .page-title {
      font-size: 2.5em;
      color: #1e293b;
      font-weight: 800;
      margin-bottom: 10px;
      letter-spacing: -1px;
    }

    .page-subtitle {
      color: #64748b;
      font-size: 1.1em;
      font-weight: 400;
    }

    /* Content Sections */
    .content-section {
      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(203, 213, 225, 0.3);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 25px;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      color: #1e293b;
    }

    .section-title {
      font-size: 1.4em;
      color: #3b82f6;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      font-weight: 700;
    }

    .section-title::before {
      content: '';
      width: 4px;
      height: 20px;
      background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
      margin-right: 10px;
      border-radius: 2px;
    }

    /* Calculator Styles */
    .calc-container {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 20px;
      margin-top: 20px;
    }

    .calc-input {
      background: rgba(241, 245, 249, 0.8);
      border: 2px solid rgba(203, 213, 225, 0.5);
      border-radius: 12px;
      padding: 15px;
      color: #1e293b;
      font-size: 1.1em;
      width: 100%;
      min-height: 120px;
      resize: vertical;
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
    }

    .calc-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .calc-controls {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .calc-btn {
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      border: none;
      border-radius: 10px;
      padding: 12px 20px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.95em;
    }

    .calc-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
      background: linear-gradient(135deg, #2563eb, #1e40af);
    }

    .calc-output {
      background: rgba(241, 245, 249, 0.9);
      border: 2px solid rgba(203, 213, 225, 0.5);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      min-height: 100px;
      color: #1e293b;
    }

    /* Embedded iframes */
    .embedded-frame {
      width: 100%;
      height: 600px;
      border: 2px solid rgba(203, 213, 225, 0.3);
      border-radius: 16px;
      background: white;
      min-height: 500px;
    }

    .embedded-frame[src*="desmos"] {
      height: 650px;
    }

    .embedded-frame[src*="calendar"] {
      height: 600px;
      width: 100%;
      max-width: 100%;
    }

    /* Space Elements for Home Page */
    .space-container {
      position: relative;
      overflow: hidden;
      border-radius: 20px;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
      padding: 40px;
      margin: 30px 0;
      min-height: 400px;
    }

    .planet {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.8), rgba(29, 78, 216, 0.6));
      box-shadow: 0 0 40px rgba(59, 130, 246, 0.4);
      animation: float 6s ease-in-out infinite;
    }

    .planet.large {
      width: 120px;
      height: 120px;
      top: 20%;
      right: 10%;
      animation-delay: -2s;
    }

    .planet.medium {
      width: 80px;
      height: 80px;
      bottom: 25%;
      left: 15%;
      background: radial-gradient(circle at 30% 30%, rgba(139, 92, 246, 0.8), rgba(124, 58, 237, 0.6));
      box-shadow: 0 0 30px rgba(139, 92, 246, 0.4);
      animation-delay: -4s;
    }

    .planet.small {
      width: 50px;
      height: 50px;
      top: 60%;
      right: 25%;
      background: radial-gradient(circle at 30% 30%, rgba(236, 72, 153, 0.8), rgba(219, 39, 119, 0.6));
      box-shadow: 0 0 20px rgba(236, 72, 153, 0.4);
      animation-delay: 0s;
    }

    .nebula {
      position: absolute;
      background: radial-gradient(ellipse, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: pulse 8s ease-in-out infinite;
    }

    .nebula.one {
      width: 300px;
      height: 200px;
      top: 10%;
      left: 5%;
      animation-delay: -3s;
    }

    .nebula.two {
      width: 250px;
      height: 150px;
      bottom: 15%;
      right: 20%;
      background: radial-gradient(ellipse, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
      animation-delay: -6s;
    }

    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #ffffff, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #ffffff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #ffffff, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: twinkle 4s linear infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.1); }
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 0.4; }
    }

    /* Discord integration */
    .discord-widget {
      background: rgba(88, 101, 242, 0.1);
      border: 1px solid #5865f2;
      border-radius: 15px;
      padding: 25px;
      text-align: center;
    }

    .discord-btn {
      background: #5865f2;
      border: none;
      border-radius: 8px;
      padding: 15px 30px;
      color: white;
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
      margin-top: 15px;
      transition: all 0.3s ease;
    }

    .discord-btn:hover {
      background: #4752c4;
      transform: translateY(-2px);
    }

    /* Google Docs Integration */
    .docs-container {
      background: rgba(66, 133, 244, 0.1);
      border: 1px solid #4285f4;
      border-radius: 15px;
      padding: 25px;
    }

    .docs-btn {
      background: #4285f4;
      border: none;
      border-radius: 8px;
      padding: 15px 30px;
      color: white;
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
      margin: 10px 10px 10px 0;
      transition: all 0.3s ease;
    }

    .docs-btn:hover {
      background: #3367d6;
      transform: translateY(-2px);
    }

    /* Welcome page styles */
    .welcome-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(203, 213, 225, 0.3);
      border-radius: 16px;
      padding: 25px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      color: #1e293b;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      border-color: #3b82f6;
    }

    .feature-icon {
      font-size: 3em;
      margin-bottom: 15px;
    }

    .feature-title {
      font-size: 1.3em;
      color: #3b82f6;
      margin-bottom: 10px;
      font-weight: 700;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .menu-toggle {
        display: block;
      }

      .sidebar {
        transform: translateX(-100%);
      }

      .sidebar.show {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 0;
      }

      .calc-container {
        grid-template-columns: 1fr;
      }

      .welcome-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>

  <!-- MathJax Configuration -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['
</head>

<body>
  <!-- Header -->
  <div class="header">
    <div class="logo">🌌 Phystalk</div>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
  </div>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar">
    <a class="nav-item active" onclick="showPage('home')">
      <span>🏠 Home</span>
    </a>
    <a class="nav-item" onclick="showPage('calculator')">
      <span>🧮 Calculator</span>
    </a>
    <a class="nav-item" onclick="showPage('desmos')">
      <span>📊 Desmos Graph</span>
    </a>
    <a class="nav-item" onclick="showPage('calendar')">
      <span>📅 Calendar</span>
    </a>
    <a class="nav-item" onclick="showPage('docs')">
      <span>📝 Physics Log</span>
    </a>
    <a class="nav-item" onclick="showPage('discord')">
      <span>💬 Discord</span>
    </a>
  </nav>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    
    <!-- Home Page -->
    <div class="page active" id="home">
      <div class="page-header">
        <h1 class="page-title">Welcome to Phystalk</h1>
        <p class="page-subtitle">Where Physics Meets the Cosmos 🌌</p>
      </div>

      <!-- Space Scene -->
      <div class="space-container">
        <div class="stars"></div>
        <div class="nebula one"></div>
        <div class="nebula two"></div>
        <div class="planet large"></div>
        <div class="planet medium"></div>
        <div class="planet small"></div>
        
        <div style="position: relative; z-index: 10; text-align: center; color: white;">
          <h2 style="font-size: 2.5em; margin-bottom: 20px; font-weight: 300; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Explore the Universe of Physics</h2>
          <p style="font-size: 1.2em; opacity: 0.9; max-width: 600px; margin: 0 auto; line-height: 1.6;">Join our community of physicists, students, and curious minds as we dive deep into the fundamental laws that govern our cosmos.</p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">About Our Community</h2>
        <p>Welcome to Phystalk, a comprehensive physics forum designed for students, researchers, and enthusiasts. Our platform integrates powerful tools to help you explore, calculate, and collaborate on physics concepts.</p>
      </div>

      <div class="welcome-grid">
        <div class="feature-card" onclick="showPage('calculator')">
          <div class="feature-icon">🧮</div>
          <div class="feature-title">LaTeX Calculator</div>
          <p>Advanced equation rendering with MathJax support for complex physics formulas.</p>
        </div>

        <div class="feature-card" onclick="showPage('desmos')">
          <div class="feature-icon">📊</div>
          <div class="feature-title">Desmos Graphing</div>
          <p>Interactive graphing calculator for visualizing mathematical functions and physics concepts.</p>
        </div>

        <div class="feature-card" onclick="showPage('calendar')">
          <div class="feature-icon">📅</div>
          <div class="feature-title">Event Calendar</div>
          <p>Stay updated with physics events, study sessions, and community meetings.</p>
        </div>

        <div class="feature-card" onclick="showPage('docs')">
          <div class="feature-icon">📝</div>
          <div class="feature-title">Research Log</div>
          <p>Collaborative document space for sharing research, notes, and physics discoveries.</p>
        </div>

        <div class="feature-card" onclick="showPage('discord')">
          <div class="feature-icon">💬</div>
          <div class="feature-title">Discord Community</div>
          <p>Join our active Discord server for real-time discussions and help.</p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Quick Physics Examples</h2>
        <p>Here are some fundamental physics equations rendered with LaTeX:</p>
        <div style="margin: 20px 0; text-align: center; background: rgba(241, 245, 249, 0.5); padding: 20px; border-radius: 12px;">
          <p><strong>Einstein's Mass-Energy Equivalence:</strong> $E = mc^2$</p>
          <p><strong>Schrödinger's Equation:</strong> $i\hbar \frac{\partial}{\partial t} \Psi = \hat{H} \Psi$</p>
          <p><strong>Newton's Second Law:</strong> $\vec{F} = m\vec{a}$</p>
          <p><strong>Maxwell's First Equation:</strong> $\nabla \cdot \vec{E} = \frac{\rho}{\epsilon_0}$</p>
        </div>
      </div>
    </div>

    <!-- Calculator Page -->
    <div class="page" id="calculator">
      <div class="page-header">
        <h1 class="page-title">LaTeX Calculator</h1>
        <p class="page-subtitle">Advanced equation rendering and calculation</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Equation Input</h2>
        <div class="calc-container">
          <div>
            <textarea class="calc-input" id="latexInput" placeholder="Enter your LaTeX equation here...
Examples:
E = mc^2
F = ma
\frac{d^2x}{dt^2} = -\omega^2 x
\int_0^{\infty} e^{-x^2} dx = \frac{\sqrt{\pi}}{2}">E = mc^2</textarea>
          </div>
          <div class="calc-controls">
            <button class="calc-btn" onclick="renderLatex()">Render Equation</button>
            <button class="calc-btn" onclick="clearInput()">Clear</button>
            <button class="calc-btn" onclick="insertTemplate('integral')">∫ Integral</button>
            <button class="calc-btn" onclick="insertTemplate('derivative')">d/dx Derivative</button>
            <button class="calc-btn" onclick="insertTemplate('fraction')">Fraction</button>
            <button class="calc-btn" onclick="insertTemplate('sqrt')">√ Square Root</button>
          </div>
        </div>

        <div class="calc-output" id="latexOutput">
          <h3 style="color: #00f5ff; margin-bottom: 15px;">Rendered Equation:</h3>
          <div id="renderedEquation">$$E = mc^2$$</div>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Common Physics Templates</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
          <button class="calc-btn" onclick="loadTemplate('kinematics')">Kinematics</button>
          <button class="calc-btn" onclick="loadTemplate('thermodynamics')">Thermodynamics</button>
          <button class="calc-btn" onclick="loadTemplate('electromagnetism')">E&M</button>
          <button class="calc-btn" onclick="loadTemplate('quantum')">Quantum</button>
        </div>
      </div>
    </div>

    <!-- Desmos Page -->
    <div class="page" id="desmos">
      <div class="page-header">
        <h1 class="page-title">Desmos Graphing Calculator</h1>
        <p class="page-subtitle">Interactive mathematical visualization</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Graphing Calculator</h2>
        <div id="calculator" style="width: 100%; height: 600px; border: 1px solid #2d2d2d; border-radius: 15px; background: white;"></div>
        <div style="text-align: center; margin-top: 15px;">
          <button class="calc-btn" onclick="addExpression('y = x^2')">Add y = x²</button>
          <button class="calc-btn" onclick="addExpression('y = sin(x)')">Add y = sin(x)</button>
          <button class="calc-btn" onclick="addExpression('y = cos(x)')">Add y = cos(x)</button>
          <button class="calc-btn" onclick="clearGraph()">Clear All</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Quick Add Equations</h2>
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px; align-items: center;">
          <input type="text" id="customEquation" placeholder="Enter equation (e.g., y = 2x + 3)" 
                 style="background: rgba(0, 0, 0, 0.3); border: 1px solid #2d2d2d; border-radius: 8px; padding: 12px; color: #f0f0f0; font-size: 1em;">
          <button class="calc-btn" onclick="addCustomExpression()">Add to Graph</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Physics Examples</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
          <button class="calc-btn" onclick="addExpression('y = 0.5*9.8*x^2')">Free Fall: y = ½gt²</button>
          <button class="calc-btn" onclick="addExpression('y = sin(2*pi*x)')">Wave: y = sin(2πx)</button>
          <button class="calc-btn" onclick="addExpression('y = e^(-x^2)')">Gaussian: y = e^(-x²)</button>
          <button class="calc-btn" onclick="addExpression('y = 1/x')">Inverse: y = 1/x</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Usage Tips</h2>
        <ul style="line-height: 1.8;">
          <li>Use <code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code> for trigonometric functions</li>
          <li>Type <code>x^2</code> for x squared, <code>sqrt(x)</code> for square root</li>
          <li>Use <code>pi</code> for π and <code>e</code> for Euler's number</li>
          <li>Create parametric equations with <code>x = t*cos(t), y = t*sin(t)</code></li>
          <li>Add sliders by using variables like <code>y = a*x + b</code></li>
        </ul>
      </div>
    </div>

    <!-- Calendar Page -->
    <div class="page" id="calendar">
      <div class="page-header">
        <h1 class="page-title">Event Calendar</h1>
        <p class="page-subtitle">Physics events and community meetings</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Community Calendar</h2>
        <!-- CALENDAR EMBED LINE: Replace the src URL below with your Google Calendar embed link -->
        <iframe class="embedded-frame" src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showCalendars=0&showTabs=0&showPrint=0&showDate=1&showNav=1&showTitle=0&src=ZW4taW5kaWFuI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&color=%23AD1457" style="border:solid 1px #777" width="800" height="600" frameborder="0" scrolling="no" title="Physics Events Calendar"></iframe>
        <div style="text-align: center; margin-top: 15px;">
          <p style="color: #64748b; font-size: 0.9em;">If the calendar doesn't load, <a href="https://calendar.google.com/calendar/u/0/r" target="_blank" style="color: #3b82f6;">click here to open Google Calendar</a></p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Meeting Links</h2>
        <p>Join our regular physics discussions and study sessions:</p>
        <a href="https://meet.google.com/" target="_blank" class="docs-btn">🎥 Google Meet</a>
        <p style="margin-top: 15px; color: #ccc;">Meeting times are posted in the calendar above and announced in our Discord server.</p>
      </div>
    </div>

    <!-- Docs Page -->
    <div class="page" id="docs">
      <div class="page-header">
        <h1 class="page-title">Physics Research Log</h1>
        <p class="page-subtitle">Collaborative research and documentation</p>
      </div>

      <div class="docs-container">
        <h2 class="section-title">Research Documents</h2>
        <p>Access our collaborative physics research log, experiment notes, and study materials. Contribute your own findings and learn from the community.</p>
        
        <div style="margin: 20px 0;">
          <a href="#" target="_blank" class="docs-btn">📄 Main Research Log</a>
          <a href="#" target="_blank" class="docs-btn">🧪 Experiment Notes</a>
          <a href="#" target="_blank" class="docs-btn">📚 Study Materials</a>
        </div>

        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-top: 20px;">
          <h3 style="color: #00f5ff; margin-bottom: 15px;">How to Contribute:</h3>
          <ol style="line-height: 1.8;">
            <li>Request access to our Google Docs through Discord</li>
            <li>Follow the document formatting guidelines</li>
            <li>Share your research, solutions, or interesting findings</li>
            <li>Collaborate with other community members</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- Discord Page -->
    <div class="page" id="discord">
      <div class="page-header">
        <h1 class="page-title">Discord Community</h1>
        <p class="page-subtitle">Real-time physics discussions</p>
      </div>

      <div class="discord-widget">
        <h2 class="section-title">Join Our Discord Server</h2>
        <p>Connect with fellow physics enthusiasts, get homework help, discuss recent discoveries, and participate in live study sessions.</p>
        
        <a href="#" target="_blank" class="discord-btn">🚀 Join Discord Server</a>

        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-top: 25px;">
          <h3 style="color: #5865f2; margin-bottom: 15px;">What You'll Find:</h3>
          <ul style="line-height: 1.8; text-align: left;">
            <li><strong>#general-physics</strong> - General physics discussions</li>
            <li><strong>#homework-help</strong> - Get help with physics problems</li>
            <li><strong>#research-share</strong> - Share interesting research</li>
            <li><strong>#study-groups</strong> - Organize study sessions</li>
            <li><strong>#resources</strong> - Share useful physics resources</li>
            <li><strong>#voice-study</strong> - Voice channels for collaborative study</li>
          </ul>
        </div>
      </div>
    </div>

  </main>

  <script>
    // Desmos calculator instance
    let calculator = null;

    // Navigation functionality
    function showPage(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => page.classList.remove('active'));
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Update active nav item
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => item.classList.remove('active'));
      event.target.classList.add('active');
      
      // Initialize Desmos calculator when Desmos page is shown
      if (pageId === 'desmos' && !calculator) {
        initializeDesmos();
      }
      
      // Hide sidebar on mobile after selection
      if (window.innerWidth <= 768) {
        document.getElementById('sidebar').classList.remove('show');
      }
    }

    // Initialize Desmos Calculator
    function initializeDesmos() {
      const elt = document.getElementById('calculator');
      if (elt && typeof Desmos !== 'undefined') {
        calculator = Desmos.GraphingCalculator(elt, {
          keypad: true,
          expressions: true,
          settingsMenu: true,
          zoomButtons: true,
          expressionsTopbar: true,
          pointsOfInterest: true,
          trace: true,
          border: false,
          lockViewport: false
        });
        
        // Add a welcome equation
        calculator.setExpression({
          id: 'welcome',
          latex: 'y = \\sin(x)',
          color: '#00f5ff'
        });
      }
    }

    // Add expression to Desmos
    function addExpression(latex) {
      if (calculator) {
        calculator.setExpression({
          id: 'expr_' + Date.now(),
          latex: latex,
          color: '#' + Math.floor(Math.random()*16777215).toString(16)
        });
      }
    }

    // Add custom expression
    function addCustomExpression() {
      const input = document.getElementById('customEquation');
      if (input.value.trim() && calculator) {
        calculator.setExpression({
          id: 'custom_' + Date.now(),
          latex: input.value.trim(),
          color: '#' + Math.floor(Math.random()*16777215).toString(16)
        });
        input.value = '';
      }
    }

    // Clear all expressions
    function clearGraph() {
      if (calculator) {
        calculator.setBlank();
      }
    }

    // Handle Enter key in custom equation input
    document.addEventListener('DOMContentLoaded', function() {
      const customInput = document.getElementById('customEquation');
      if (customInput) {
        customInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            addCustomExpression();
          }
        });
      }
    });

    // Toggle sidebar for mobile
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('show');
    }

    // Calculator functionality
    function renderLatex() {
      const input = document.getElementById('latexInput').value;
      const output = document.getElementById('renderedEquation');
      
      if (input.trim()) {
        // Check if input contains display math delimiters
        if (input.includes('$$') || input.includes('\\[')) {
          output.innerHTML = input;
        } else {
          // Wrap in display math delimiters
          output.innerHTML = '$$' + input + '$$';
        }
        
        // Re-render MathJax
        if (window.MathJax) {
          MathJax.typesetPromise([output]);
        }
      }
    }

    function clearInput() {
      document.getElementById('latexInput').value = '';
      document.getElementById('renderedEquation').innerHTML = 'Enter an equation and click "Render Equation"';
    }

    function insertTemplate(type) {
      const input = document.getElementById('latexInput');
      const cursorPos = input.selectionStart;
      const currentValue = input.value;
      
      let template = '';
      switch(type) {
        case 'integral':
          template = '\\int_{a}^{b} f(x) dx';
          break;
        case 'derivative':
          template = '\\frac{d}{dx} f(x)';
          break;
        case 'fraction':
          template = '\\frac{numerator}{denominator}';
          break;
        case 'sqrt':
          template = '\\sqrt{x}';
          break;
      }
      
      const newValue = currentValue.substring(0, cursorPos) + template + currentValue.substring(cursorPos);
      input.value = newValue;
      input.focus();
    }

    function loadTemplate(subject) {
      const input = document.getElementById('latexInput');
      let template = '';
      
      switch(subject) {
        case 'kinematics':
          template = 'v = v_0 + at\n\\\\x = x_0 + v_0 t + \\frac{1}{2}at^2\n\\\\v^2 = v_0^2 + 2a(x - x_0)';
          break;
        case 'thermodynamics':
          template = 'PV = nRT\n\\\\\\Delta U = Q - W\n\\\\S = k \\ln \\Omega';
          break;
        case 'electromagnetism':
          template = '\\vec{F} = q(\\vec{E} + \\vec{v} \\times \\vec{B})\n\\\\\\nabla \\cdot \\vec{E} = \\frac{\\rho}{\\epsilon_0}\n\\\\\\nabla \\times \\vec{B} = \\mu_0 \\vec{J}';
          break;
        case 'quantum':
          template = 'i\\hbar \\frac{\\partial}{\\partial t} \\Psi = \\hat{H} \\Psi\n\\\\[\\hat{x}, \\hat{p}] = i\\hbar\n\\\\E = h\\nu';
          break;
      }
      
      input.value = template;
    }

    // Handle responsive sidebar
    window.addEventListener('resize', function() {
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      
      if (window.innerWidth > 768) {
        sidebar.classList.remove('show');
        sidebar.classList.remove('hidden');
      }
    });

    // Initialize MathJax rendering on page load
    window.addEventListener('load', function() {
      if (window.MathJax) {
        MathJax.typesetPromise();
      }
    });

    // Add click handlers to nav items
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach((item, index) => {
        item.addEventListener('click', function() {
          navItems.forEach(nav => nav.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });
  </script>
</body>
</html>, '
</head>

<body>
  <!-- Header -->
  <div class="header">
    <div class="logo">🌌 Phystalk</div>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
  </div>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar">
    <a class="nav-item active" onclick="showPage('home')">
      <span>🏠 Home</span>
    </a>
    <a class="nav-item" onclick="showPage('calculator')">
      <span>🧮 Calculator</span>
    </a>
    <a class="nav-item" onclick="showPage('desmos')">
      <span>📊 Desmos Graph</span>
    </a>
    <a class="nav-item" onclick="showPage('calendar')">
      <span>📅 Calendar</span>
    </a>
    <a class="nav-item" onclick="showPage('docs')">
      <span>📝 Physics Log</span>
    </a>
    <a class="nav-item" onclick="showPage('discord')">
      <span>💬 Discord</span>
    </a>
  </nav>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    
    <!-- Home Page -->
    <div class="page active" id="home">
      <div class="page-header">
        <h1 class="page-title">Welcome to Phystalk</h1>
        <p class="page-subtitle">Where Physics Meets the Cosmos 🌌</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">About Our Community</h2>
        <p>Welcome to Phystalk, a comprehensive physics forum designed for students, researchers, and enthusiasts. Our platform integrates powerful tools to help you explore, calculate, and collaborate on physics concepts.</p>
      </div>

      <div class="welcome-grid">
        <div class="feature-card" onclick="showPage('calculator')">
          <div class="feature-icon">🧮</div>
          <div class="feature-title">LaTeX Calculator</div>
          <p>Advanced equation rendering with MathJax support for complex physics formulas.</p>
        </div>

        <div class="feature-card" onclick="showPage('desmos')">
          <div class="feature-icon">📊</div>
          <div class="feature-title">Desmos Graphing</div>
          <p>Interactive graphing calculator for visualizing mathematical functions and physics concepts.</p>
        </div>

        <div class="feature-card" onclick="showPage('calendar')">
          <div class="feature-icon">📅</div>
          <div class="feature-title">Event Calendar</div>
          <p>Stay updated with physics events, study sessions, and community meetings.</p>
        </div>

        <div class="feature-card" onclick="showPage('docs')">
          <div class="feature-icon">📝</div>
          <div class="feature-title">Research Log</div>
          <p>Collaborative document space for sharing research, notes, and physics discoveries.</p>
        </div>

        <div class="feature-card" onclick="showPage('discord')">
          <div class="feature-icon">💬</div>
          <div class="feature-title">Discord Community</div>
          <p>Join our active Discord server for real-time discussions and help.</p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Quick Physics Examples</h2>
        <p>Here are some fundamental physics equations rendered with LaTeX:</p>
        <div style="margin: 20px 0; text-align: center;">
          <p><strong>Einstein's Mass-Energy Equivalence:</strong> $E = mc^2$</p>
          <p><strong>Schrödinger's Equation:</strong> $$i\hbar \frac{\partial}{\partial t} \Psi = \hat{H} \Psi$$</p>
          <p><strong>Newton's Second Law:</strong> $\vec{F} = m\vec{a}$</p>
          <p><strong>Maxwell's First Equation:</strong> $$\nabla \cdot \vec{E} = \frac{\rho}{\epsilon_0}$$</p>
        </div>
      </div>
    </div>

    <!-- Calculator Page -->
    <div class="page" id="calculator">
      <div class="page-header">
        <h1 class="page-title">LaTeX Calculator</h1>
        <p class="page-subtitle">Advanced equation rendering and calculation</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Equation Input</h2>
        <div class="calc-container">
          <div>
            <textarea class="calc-input" id="latexInput" placeholder="Enter your LaTeX equation here...
Examples:
E = mc^2
F = ma
\frac{d^2x}{dt^2} = -\omega^2 x
\int_0^{\infty} e^{-x^2} dx = \frac{\sqrt{\pi}}{2}">E = mc^2</textarea>
          </div>
          <div class="calc-controls">
            <button class="calc-btn" onclick="renderLatex()">Render Equation</button>
            <button class="calc-btn" onclick="clearInput()">Clear</button>
            <button class="calc-btn" onclick="insertTemplate('integral')">∫ Integral</button>
            <button class="calc-btn" onclick="insertTemplate('derivative')">d/dx Derivative</button>
            <button class="calc-btn" onclick="insertTemplate('fraction')">Fraction</button>
            <button class="calc-btn" onclick="insertTemplate('sqrt')">√ Square Root</button>
          </div>
        </div>

        <div class="calc-output" id="latexOutput">
          <h3 style="color: #00f5ff; margin-bottom: 15px;">Rendered Equation:</h3>
          <div id="renderedEquation">$$E = mc^2$$</div>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Common Physics Templates</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
          <button class="calc-btn" onclick="loadTemplate('kinematics')">Kinematics</button>
          <button class="calc-btn" onclick="loadTemplate('thermodynamics')">Thermodynamics</button>
          <button class="calc-btn" onclick="loadTemplate('electromagnetism')">E&M</button>
          <button class="calc-btn" onclick="loadTemplate('quantum')">Quantum</button>
        </div>
      </div>
    </div>

    <!-- Desmos Page -->
    <div class="page" id="desmos">
      <div class="page-header">
        <h1 class="page-title">Desmos Graphing Calculator</h1>
        <p class="page-subtitle">Interactive mathematical visualization</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Graphing Calculator</h2>
        <div id="calculator" style="width: 100%; height: 600px; border: 1px solid #2d2d2d; border-radius: 15px; background: white;"></div>
        <div style="text-align: center; margin-top: 15px;">
          <button class="calc-btn" onclick="addExpression('y = x^2')">Add y = x²</button>
          <button class="calc-btn" onclick="addExpression('y = sin(x)')">Add y = sin(x)</button>
          <button class="calc-btn" onclick="addExpression('y = cos(x)')">Add y = cos(x)</button>
          <button class="calc-btn" onclick="clearGraph()">Clear All</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Quick Add Equations</h2>
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px; align-items: center;">
          <input type="text" id="customEquation" placeholder="Enter equation (e.g., y = 2x + 3)" 
                 style="background: rgba(0, 0, 0, 0.3); border: 1px solid #2d2d2d; border-radius: 8px; padding: 12px; color: #f0f0f0; font-size: 1em;">
          <button class="calc-btn" onclick="addCustomExpression()">Add to Graph</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Physics Examples</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
          <button class="calc-btn" onclick="addExpression('y = 0.5*9.8*x^2')">Free Fall: y = ½gt²</button>
          <button class="calc-btn" onclick="addExpression('y = sin(2*pi*x)')">Wave: y = sin(2πx)</button>
          <button class="calc-btn" onclick="addExpression('y = e^(-x^2)')">Gaussian: y = e^(-x²)</button>
          <button class="calc-btn" onclick="addExpression('y = 1/x')">Inverse: y = 1/x</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Usage Tips</h2>
        <ul style="line-height: 1.8;">
          <li>Use <code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code> for trigonometric functions</li>
          <li>Type <code>x^2</code> for x squared, <code>sqrt(x)</code> for square root</li>
          <li>Use <code>pi</code> for π and <code>e</code> for Euler's number</li>
          <li>Create parametric equations with <code>x = t*cos(t), y = t*sin(t)</code></li>
          <li>Add sliders by using variables like <code>y = a*x + b</code></li>
        </ul>
      </div>
    </div>

    <!-- Calendar Page -->
    <div class="page" id="calendar">
      <div class="page-header">
        <h1 class="page-title">Event Calendar</h1>
        <p class="page-subtitle">Physics events and community meetings</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Community Calendar</h2>
        <iframe class="embedded-frame" src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showCalendars=0&showTabs=0&showPrint=0&showDate=1&showNav=1&showTitle=0&src=ZW4taW5kaWFuI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&color=%23AD1457" style="border:solid 1px #777" width="800" height="600" frameborder="0" scrolling="no" title="Physics Events Calendar"></iframe>
        <div style="text-align: center; margin-top: 15px;">
          <p style="color: #ccc; font-size: 0.9em;">If the calendar doesn't load, <a href="https://calendar.google.com/calendar/u/0/r" target="_blank" style="color: #00f5ff;">click here to open Google Calendar</a></p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Meeting Links</h2>
        <p>Join our regular physics discussions and study sessions:</p>
        <a href="https://meet.google.com/" target="_blank" class="docs-btn">🎥 Google Meet</a>
        <p style="margin-top: 15px; color: #ccc;">Meeting times are posted in the calendar above and announced in our Discord server.</p>
      </div>
    </div>

    <!-- Docs Page -->
    <div class="page" id="docs">
      <div class="page-header">
        <h1 class="page-title">Physics Research Log</h1>
        <p class="page-subtitle">Collaborative research and documentation</p>
      </div>

      <div class="docs-container">
        <h2 class="section-title">Research Documents</h2>
        <p>Access our collaborative physics research log, experiment notes, and study materials. Contribute your own findings and learn from the community.</p>
        
        <div style="margin: 20px 0;">
          <a href="#" target="_blank" class="docs-btn">📄 Main Research Log</a>
          <a href="#" target="_blank" class="docs-btn">🧪 Experiment Notes</a>
          <a href="#" target="_blank" class="docs-btn">📚 Study Materials</a>
        </div>

        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-top: 20px;">
          <h3 style="color: #00f5ff; margin-bottom: 15px;">How to Contribute:</h3>
          <ol style="line-height: 1.8;">
            <li>Request access to our Google Docs through Discord</li>
            <li>Follow the document formatting guidelines</li>
            <li>Share your research, solutions, or interesting findings</li>
            <li>Collaborate with other community members</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- Discord Page -->
    <div class="page" id="discord">
      <div class="page-header">
        <h1 class="page-title">Discord Community</h1>
        <p class="page-subtitle">Real-time physics discussions</p>
      </div>

      <div class="discord-widget">
        <h2 class="section-title">Join Our Discord Server</h2>
        <p>Connect with fellow physics enthusiasts, get homework help, discuss recent discoveries, and participate in live study sessions.</p>
        
        <a href="#" target="_blank" class="discord-btn">🚀 Join Discord Server</a>

        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-top: 25px;">
          <h3 style="color: #5865f2; margin-bottom: 15px;">What You'll Find:</h3>
          <ul style="line-height: 1.8; text-align: left;">
            <li><strong>#general-physics</strong> - General physics discussions</li>
            <li><strong>#homework-help</strong> - Get help with physics problems</li>
            <li><strong>#research-share</strong> - Share interesting research</li>
            <li><strong>#study-groups</strong> - Organize study sessions</li>
            <li><strong>#resources</strong> - Share useful physics resources</li>
            <li><strong>#voice-study</strong> - Voice channels for collaborative study</li>
          </ul>
        </div>
      </div>
    </div>

  </main>

  <script>
    // Navigation functionality
    function showPage(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => page.classList.remove('active'));
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Update active nav item
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => item.classList.remove('active'));
      event.target.classList.add('active');
      
      // Hide sidebar on mobile after selection
      if (window.innerWidth <= 768) {
        document.getElementById('sidebar').classList.remove('show');
      }
    }

    // Toggle sidebar for mobile
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('show');
    }

    // Calculator functionality
    function renderLatex() {
      const input = document.getElementById('latexInput').value;
      const output = document.getElementById('renderedEquation');
      
      if (input.trim()) {
        // Check if input contains display math delimiters
        if (input.includes('$$') || input.includes('\\[')) {
          output.innerHTML = input;
        } else {
          // Wrap in display math delimiters
          output.innerHTML = '$$' + input + '$$';
        }
        
        // Re-render MathJax
        if (window.MathJax) {
          MathJax.typesetPromise([output]);
        }
      }
    }

    function clearInput() {
      document.getElementById('latexInput').value = '';
      document.getElementById('renderedEquation').innerHTML = 'Enter an equation and click "Render Equation"';
    }

    function insertTemplate(type) {
      const input = document.getElementById('latexInput');
      const cursorPos = input.selectionStart;
      const currentValue = input.value;
      
      let template = '';
      switch(type) {
        case 'integral':
          template = '\\int_{a}^{b} f(x) dx';
          break;
        case 'derivative':
          template = '\\frac{d}{dx} f(x)';
          break;
        case 'fraction':
          template = '\\frac{numerator}{denominator}';
          break;
        case 'sqrt':
          template = '\\sqrt{x}';
          break;
      }
      
      const newValue = currentValue.substring(0, cursorPos) + template + currentValue.substring(cursorPos);
      input.value = newValue;
      input.focus();
    }

    function loadTemplate(subject) {
      const input = document.getElementById('latexInput');
      let template = '';
      
      switch(subject) {
        case 'kinematics':
          template = 'v = v_0 + at\n\\\\x = x_0 + v_0 t + \\frac{1}{2}at^2\n\\\\v^2 = v_0^2 + 2a(x - x_0)';
          break;
        case 'thermodynamics':
          template = 'PV = nRT\n\\\\\\Delta U = Q - W\n\\\\S = k \\ln \\Omega';
          break;
        case 'electromagnetism':
          template = '\\vec{F} = q(\\vec{E} + \\vec{v} \\times \\vec{B})\n\\\\\\nabla \\cdot \\vec{E} = \\frac{\\rho}{\\epsilon_0}\n\\\\\\nabla \\times \\vec{B} = \\mu_0 \\vec{J}';
          break;
        case 'quantum':
          template = 'i\\hbar \\frac{\\partial}{\\partial t} \\Psi = \\hat{H} \\Psi\n\\\\[\\hat{x}, \\hat{p}] = i\\hbar\n\\\\E = h\\nu';
          break;
      }
      
      input.value = template;
    }

    // Handle responsive sidebar
    window.addEventListener('resize', function() {
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      
      if (window.innerWidth > 768) {
        sidebar.classList.remove('show');
        sidebar.classList.remove('hidden');
      }
    });

    // Initialize MathJax rendering on page load
    window.addEventListener('load', function() {
      if (window.MathJax) {
        MathJax.typesetPromise();
      }
    });

    // Add click handlers to nav items
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach((item, index) => {
        item.addEventListener('click', function() {
          navItems.forEach(nav => nav.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });
  </script>
</body>
</html>], ['\\(', '\\)']],
        displayMath: [['$', '$'], ['\\[', '\\]']],
        processEscapes: true
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
  
  <!-- Desmos API -->
  <script src="https://www.desmos.com/api/v1.7/calculator.js?apikey=dcb31709b452b1cf9dc26972add0fda6"></script>
</head>

<body>
  <!-- Header -->
  <div class="header">
    <div class="logo">🌌 Phystalk</div>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
  </div>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar">
    <a class="nav-item active" onclick="showPage('home')">
      <span>🏠 Home</span>
    </a>
    <a class="nav-item" onclick="showPage('calculator')">
      <span>🧮 Calculator</span>
    </a>
    <a class="nav-item" onclick="showPage('desmos')">
      <span>📊 Desmos Graph</span>
    </a>
    <a class="nav-item" onclick="showPage('calendar')">
      <span>📅 Calendar</span>
    </a>
    <a class="nav-item" onclick="showPage('docs')">
      <span>📝 Physics Log</span>
    </a>
    <a class="nav-item" onclick="showPage('discord')">
      <span>💬 Discord</span>
    </a>
  </nav>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    
    <!-- Home Page -->
    <div class="page active" id="home">
      <div class="page-header">
        <h1 class="page-title">Welcome to Phystalk</h1>
        <p class="page-subtitle">Where Physics Meets the Cosmos 🌌</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">About Our Community</h2>
        <p>Welcome to Phystalk, a comprehensive physics forum designed for students, researchers, and enthusiasts. Our platform integrates powerful tools to help you explore, calculate, and collaborate on physics concepts.</p>
      </div>

      <div class="welcome-grid">
        <div class="feature-card" onclick="showPage('calculator')">
          <div class="feature-icon">🧮</div>
          <div class="feature-title">LaTeX Calculator</div>
          <p>Advanced equation rendering with MathJax support for complex physics formulas.</p>
        </div>

        <div class="feature-card" onclick="showPage('desmos')">
          <div class="feature-icon">📊</div>
          <div class="feature-title">Desmos Graphing</div>
          <p>Interactive graphing calculator for visualizing mathematical functions and physics concepts.</p>
        </div>

        <div class="feature-card" onclick="showPage('calendar')">
          <div class="feature-icon">📅</div>
          <div class="feature-title">Event Calendar</div>
          <p>Stay updated with physics events, study sessions, and community meetings.</p>
        </div>

        <div class="feature-card" onclick="showPage('docs')">
          <div class="feature-icon">📝</div>
          <div class="feature-title">Research Log</div>
          <p>Collaborative document space for sharing research, notes, and physics discoveries.</p>
        </div>

        <div class="feature-card" onclick="showPage('discord')">
          <div class="feature-icon">💬</div>
          <div class="feature-title">Discord Community</div>
          <p>Join our active Discord server for real-time discussions and help.</p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Quick Physics Examples</h2>
        <p>Here are some fundamental physics equations rendered with LaTeX:</p>
        <div style="margin: 20px 0; text-align: center;">
          <p><strong>Einstein's Mass-Energy Equivalence:</strong> $E = mc^2$</p>
          <p><strong>Schrödinger's Equation:</strong> $$i\hbar \frac{\partial}{\partial t} \Psi = \hat{H} \Psi$$</p>
          <p><strong>Newton's Second Law:</strong> $\vec{F} = m\vec{a}$</p>
          <p><strong>Maxwell's First Equation:</strong> $$\nabla \cdot \vec{E} = \frac{\rho}{\epsilon_0}$$</p>
        </div>
      </div>
    </div>

    <!-- Calculator Page -->
    <div class="page" id="calculator">
      <div class="page-header">
        <h1 class="page-title">LaTeX Calculator</h1>
        <p class="page-subtitle">Advanced equation rendering and calculation</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Equation Input</h2>
        <div class="calc-container">
          <div>
            <textarea class="calc-input" id="latexInput" placeholder="Enter your LaTeX equation here...
Examples:
E = mc^2
F = ma
\frac{d^2x}{dt^2} = -\omega^2 x
\int_0^{\infty} e^{-x^2} dx = \frac{\sqrt{\pi}}{2}">E = mc^2</textarea>
          </div>
          <div class="calc-controls">
            <button class="calc-btn" onclick="renderLatex()">Render Equation</button>
            <button class="calc-btn" onclick="clearInput()">Clear</button>
            <button class="calc-btn" onclick="insertTemplate('integral')">∫ Integral</button>
            <button class="calc-btn" onclick="insertTemplate('derivative')">d/dx Derivative</button>
            <button class="calc-btn" onclick="insertTemplate('fraction')">Fraction</button>
            <button class="calc-btn" onclick="insertTemplate('sqrt')">√ Square Root</button>
          </div>
        </div>

        <div class="calc-output" id="latexOutput">
          <h3 style="color: #00f5ff; margin-bottom: 15px;">Rendered Equation:</h3>
          <div id="renderedEquation">$$E = mc^2$$</div>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Common Physics Templates</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
          <button class="calc-btn" onclick="loadTemplate('kinematics')">Kinematics</button>
          <button class="calc-btn" onclick="loadTemplate('thermodynamics')">Thermodynamics</button>
          <button class="calc-btn" onclick="loadTemplate('electromagnetism')">E&M</button>
          <button class="calc-btn" onclick="loadTemplate('quantum')">Quantum</button>
        </div>
      </div>
    </div>

    <!-- Desmos Page -->
    <div class="page" id="desmos">
      <div class="page-header">
        <h1 class="page-title">Desmos Graphing Calculator</h1>
        <p class="page-subtitle">Interactive mathematical visualization</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Graphing Calculator</h2>
        <div id="calculator" style="width: 100%; height: 600px; border: 1px solid #2d2d2d; border-radius: 15px; background: white;"></div>
        <div style="text-align: center; margin-top: 15px;">
          <button class="calc-btn" onclick="addExpression('y = x^2')">Add y = x²</button>
          <button class="calc-btn" onclick="addExpression('y = sin(x)')">Add y = sin(x)</button>
          <button class="calc-btn" onclick="addExpression('y = cos(x)')">Add y = cos(x)</button>
          <button class="calc-btn" onclick="clearGraph()">Clear All</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Quick Add Equations</h2>
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px; align-items: center;">
          <input type="text" id="customEquation" placeholder="Enter equation (e.g., y = 2x + 3)" 
                 style="background: rgba(0, 0, 0, 0.3); border: 1px solid #2d2d2d; border-radius: 8px; padding: 12px; color: #f0f0f0; font-size: 1em;">
          <button class="calc-btn" onclick="addCustomExpression()">Add to Graph</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Physics Examples</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
          <button class="calc-btn" onclick="addExpression('y = 0.5*9.8*x^2')">Free Fall: y = ½gt²</button>
          <button class="calc-btn" onclick="addExpression('y = sin(2*pi*x)')">Wave: y = sin(2πx)</button>
          <button class="calc-btn" onclick="addExpression('y = e^(-x^2)')">Gaussian: y = e^(-x²)</button>
          <button class="calc-btn" onclick="addExpression('y = 1/x')">Inverse: y = 1/x</button>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Usage Tips</h2>
        <ul style="line-height: 1.8;">
          <li>Use <code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code> for trigonometric functions</li>
          <li>Type <code>x^2</code> for x squared, <code>sqrt(x)</code> for square root</li>
          <li>Use <code>pi</code> for π and <code>e</code> for Euler's number</li>
          <li>Create parametric equations with <code>x = t*cos(t), y = t*sin(t)</code></li>
          <li>Add sliders by using variables like <code>y = a*x + b</code></li>
        </ul>
      </div>
    </div>

    <!-- Calendar Page -->
    <div class="page" id="calendar">
      <div class="page-header">
        <h1 class="page-title">Event Calendar</h1>
        <p class="page-subtitle">Physics events and community meetings</p>
      </div>

      <div class="content-section">
        <h2 class="section-title">Community Calendar</h2>
        <iframe class="embedded-frame" src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showCalendars=0&showTabs=0&showPrint=0&showDate=1&showNav=1&showTitle=0&src=ZW4taW5kaWFuI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&color=%23AD1457" style="border:solid 1px #777" width="800" height="600" frameborder="0" scrolling="no" title="Physics Events Calendar"></iframe>
        <div style="text-align: center; margin-top: 15px;">
          <p style="color: #ccc; font-size: 0.9em;">If the calendar doesn't load, <a href="https://calendar.google.com/calendar/u/0/r" target="_blank" style="color: #00f5ff;">click here to open Google Calendar</a></p>
        </div>
      </div>

      <div class="content-section">
        <h2 class="section-title">Meeting Links</h2>
        <p>Join our regular physics discussions and study sessions:</p>
        <a href="https://meet.google.com/" target="_blank" class="docs-btn">🎥 Google Meet</a>
        <p style="margin-top: 15px; color: #ccc;">Meeting times are posted in the calendar above and announced in our Discord server.</p>
      </div>
    </div>

    <!-- Docs Page -->
    <div class="page" id="docs">
      <div class="page-header">
        <h1 class="page-title">Physics Research Log</h1>
        <p class="page-subtitle">Collaborative research and documentation</p>
      </div>

      <div class="docs-container">
        <h2 class="section-title">Research Documents</h2>
        <p>Access our collaborative physics research log, experiment notes, and study materials. Contribute your own findings and learn from the community.</p>
        
        <div style="margin: 20px 0;">
          <a href="#" target="_blank" class="docs-btn">📄 Main Research Log</a>
          <a href="#" target="_blank" class="docs-btn">🧪 Experiment Notes</a>
          <a href="#" target="_blank" class="docs-btn">📚 Study Materials</a>
        </div>

        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-top: 20px;">
          <h3 style="color: #00f5ff; margin-bottom: 15px;">How to Contribute:</h3>
          <ol style="line-height: 1.8;">
            <li>Request access to our Google Docs through Discord</li>
            <li>Follow the document formatting guidelines</li>
            <li>Share your research, solutions, or interesting findings</li>
            <li>Collaborate with other community members</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- Discord Page -->
    <div class="page" id="discord">
      <div class="page-header">
        <h1 class="page-title">Discord Community</h1>
        <p class="page-subtitle">Real-time physics discussions</p>
      </div>

      <div class="discord-widget">
        <h2 class="section-title">Join Our Discord Server</h2>
        <p>Connect with fellow physics enthusiasts, get homework help, discuss recent discoveries, and participate in live study sessions.</p>
        
        <a href="#" target="_blank" class="discord-btn">🚀 Join Discord Server</a>

        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-top: 25px;">
          <h3 style="color: #5865f2; margin-bottom: 15px;">What You'll Find:</h3>
          <ul style="line-height: 1.8; text-align: left;">
            <li><strong>#general-physics</strong> - General physics discussions</li>
            <li><strong>#homework-help</strong> - Get help with physics problems</li>
            <li><strong>#research-share</strong> - Share interesting research</li>
            <li><strong>#study-groups</strong> - Organize study sessions</li>
            <li><strong>#resources</strong> - Share useful physics resources</li>
            <li><strong>#voice-study</strong> - Voice channels for collaborative study</li>
          </ul>
        </div>
      </div>
    </div>

  </main>

  <script>
    // Navigation functionality
    function showPage(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => page.classList.remove('active'));
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Update active nav item
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => item.classList.remove('active'));
      event.target.classList.add('active');
      
      // Hide sidebar on mobile after selection
      if (window.innerWidth <= 768) {
        document.getElementById('sidebar').classList.remove('show');
      }
    }

    // Toggle sidebar for mobile
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('show');
    }

    // Calculator functionality
    function renderLatex() {
      const input = document.getElementById('latexInput').value;
      const output = document.getElementById('renderedEquation');
      
      if (input.trim()) {
        // Check if input contains display math delimiters
        if (input.includes('$$') || input.includes('\\[')) {
          output.innerHTML = input;
        } else {
          // Wrap in display math delimiters
          output.innerHTML = '$$' + input + '$$';
        }
        
        // Re-render MathJax
        if (window.MathJax) {
          MathJax.typesetPromise([output]);
        }
      }
    }

    function clearInput() {
      document.getElementById('latexInput').value = '';
      document.getElementById('renderedEquation').innerHTML = 'Enter an equation and click "Render Equation"';
    }

    function insertTemplate(type) {
      const input = document.getElementById('latexInput');
      const cursorPos = input.selectionStart;
      const currentValue = input.value;
      
      let template = '';
      switch(type) {
        case 'integral':
          template = '\\int_{a}^{b} f(x) dx';
          break;
        case 'derivative':
          template = '\\frac{d}{dx} f(x)';
          break;
        case 'fraction':
          template = '\\frac{numerator}{denominator}';
          break;
        case 'sqrt':
          template = '\\sqrt{x}';
          break;
      }
      
      const newValue = currentValue.substring(0, cursorPos) + template + currentValue.substring(cursorPos);
      input.value = newValue;
      input.focus();
    }

    function loadTemplate(subject) {
      const input = document.getElementById('latexInput');
      let template = '';
      
      switch(subject) {
        case 'kinematics':
          template = 'v = v_0 + at\n\\\\x = x_0 + v_0 t + \\frac{1}{2}at^2\n\\\\v^2 = v_0^2 + 2a(x - x_0)';
          break;
        case 'thermodynamics':
          template = 'PV = nRT\n\\\\\\Delta U = Q - W\n\\\\S = k \\ln \\Omega';
          break;
        case 'electromagnetism':
          template = '\\vec{F} = q(\\vec{E} + \\vec{v} \\times \\vec{B})\n\\\\\\nabla \\cdot \\vec{E} = \\frac{\\rho}{\\epsilon_0}\n\\\\\\nabla \\times \\vec{B} = \\mu_0 \\vec{J}';
          break;
        case 'quantum':
          template = 'i\\hbar \\frac{\\partial}{\\partial t} \\Psi = \\hat{H} \\Psi\n\\\\[\\hat{x}, \\hat{p}] = i\\hbar\n\\\\E = h\\nu';
          break;
      }
      
      input.value = template;
    }

    // Handle responsive sidebar
    window.addEventListener('resize', function() {
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      
      if (window.innerWidth > 768) {
        sidebar.classList.remove('show');
        sidebar.classList.remove('hidden');
      }
    });

    // Initialize MathJax rendering on page load
    window.addEventListener('load', function() {
      if (window.MathJax) {
        MathJax.typesetPromise();
      }
    });

    // Add click handlers to nav items
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach((item, index) => {
        item.addEventListener('click', function() {
          navItems.forEach(nav => nav.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });
  </script>
</body>
</html>
